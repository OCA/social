<?xml version="1.0"?>
<odoo>
    <!--
        Copyright 2016 Odoo SA <https://www.odoo.com>
        Copyright 2018 Eficent <http://www.eficent.com>
        License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl.html).
    -->
    <record id="view_calendar_event_form" model="ir.ui.view">
        <field name="name">calendar.event.form</field>
        <field name="model">calendar.event</field>
        <field name="inherit_id" ref="calendar.view_calendar_event_form"/>
        <field name="arch" type="xml">
            <field name="state" position="before">
                <group>
                    <button string="Document" class="oe_stat_button pull-right"
                            icon="fa-bars" type="object"
                            name="action_open_calendar_event"
                            attrs="{'invisible': ['|', ('res_model', '=', False), ('res_id', '=', False)]}"/>
                </group>
                <field name="res_model" invisible="1"/>
                <field name="res_id" invisible="1"/>
            </field>
            <sheet position="inside">
                <footer>
                    <button string="Schedule" name="action_close_dialog"
                                type="object" class="btn-primary"/>
                    <button string="Mark Activity as Done" name="action_done"
                                type="object" class="btn-primary"/>
                </footer>
            </sheet>
        </field>
    </record>

    <record id="view_calendar_event_form_popup" model="ir.ui.view">
        <field name="name">calendar.event.form</field>
        <field name="model">calendar.event</field>
        <field name="inherit_id" ref="calendar.view_calendar_event_form_popup"/>
        <field name="arch" type="xml">
            <field name="state" position="before">
                <group>
                    <button string="Document"
                            class="oe_stat_button pull-right"
                            icon="fa-bars"
                            type="object"
                            name="action_open_calendar_event"
                            attrs="{'invisible': ['|', ('res_model', '=', False), ('res_id', '=', False)]}"/>
                </group>
                <field name="res_model" invisible="1"/>
                <field name="res_id" invisible="1"/>
            </field>
        </field>
    </record>

</odoo>
