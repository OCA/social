=======================
Mail Push Notifications
=======================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github
    :target: https://github.com/OCA/social/tree/12.0/mail_inline_css
    :alt: OCA/social
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_inline_css
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
    :target: https://runbot.odoo-community.org/runbot/205/12.0
    :alt: Try me on Runbot

|badge1| |badge2| |badge3| |badge4| |badge5|

Add push notifications for incoming messages

This module extends the native push notifications of Odoo to support all incoming messages instead of just chat messages.
Moreover its real purpose is to use Firebase Cloud Messaging (FCM) to get Push notifications even if the web client is not open.

**Table of contents**

.. contents::
   :local:

Configuration
=============
General Configuration
~~~~~~~~~~~~~~~~~~~~~
You can choose whether to use the internal bus (online) or Firebase Cloud Messaging (online & offline) for Push Notifications.
For FCM, you'll need the **Server API Key**, the **VAPID Key** and the **Messaging ID**. All of which you can get `here <https://console.firebase.google.com/project/_/settings/cloudmessaging>`_. and then:

#. Go to *General Settings*
#. Check *Use FCM for Push Notifications*
#. he **Server API Key**, the **VAPID Key** and the **Messaging ID**
#. If needed, the system parameter **web.base.url** should be properly set

User Configuration
~~~~~~~~~~~~~~~~~~~~~
Each user who wants to enable Push notifications needs to:

* Allow Push notifications on a supported browser. The easiest way is to use the OdooBot prompt to allow notifications

.. image:: /mail_notify/static/description/prompt.png
  :width: 100%
  :alt: Prompt

* Set his incoming notifications to *Handles in  Odoo* instead of *Handle by email*

.. image:: /mail_notify/static/description/user_config.png
  :width: 100%
  :alt: User configuration

Usage
=====

Each time a user receives an incoming message (direct message or as a follower of a document) they will also receive a native notification for it. The user can also click on the notification to open the related document.

.. image:: /mail_notify/static/description/capture1.png
  :width: 100%
  :alt: Push Notification on Desktop


Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/social/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/OCA/social/issues/new?body=module:%20mail_notify%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* BADEP

Contributors
~~~~~~~~~~~~

* Khalid HAZAM <k.hazam@badep.ma>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/social <https://github.com/OCA/social/tree/12.0/mail_notify>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
